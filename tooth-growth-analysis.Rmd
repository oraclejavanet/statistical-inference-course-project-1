---
title: "Statistical Inference Course Project (Part 2)"
author: "Jeffrey M. Hunter"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  html_document:
    toc: yes
    toc_float: yes
    theme: cosmo
    keep_md: no
    df_print: paged
  pdf_document:
    toc: yes
    df_print: kable
    number_sections: false
    fig_caption: yes
    highlight: tango
    dev: pdf
---

## Overview

In this second part of a two-part project assignment, we are being asked to
investigate the effect of vitamin C on tooth growth in guinea pigs.

This analysis will compare the effects of different doses of vitamin C using
two delivery methods to study the tooth growth in guinea pigs. The sample
will consist of 60 guinea pigs. Each guinea pig will receive one of three dose
levels of vitamin C (0.5, 1, and 2 mg/day) by one of two delivery methods,
orange juice or ascorbic acid.

The study will be performed using the ToothGrowth dataset which is included in
the R `datasets` package. The dataset is a data frame that contains 60
observations and 3 variables:

* len - A numeric vector indicating the measurement of tooth length after
        Vitamin C delivery
* supp - A factor vector describing the delivery method (supplement type) used.
         Either Orange Juice (OJ) or Ascorbic Acid (VC)
* dose - A numeric vector indicating the dosage level in milligrams
         (0.5, 1, or 2mg)

Further information on the ToothGrowth dataset can be found in the R
documentation using `?ToothGrowth`.

## Environment Setup

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.path='figures/')
```

Load packages used in this analysis.

```{r load-packages, echo = TRUE}
if (!require(ggplot2)) {
    install.packages("ggplot2", repos = "http://cran.us.r-project.org")
    library(ggplot2)
}
if (!require(dplyr, warn.conflicts = FALSE)) {
    install.packages("dplyr", repos = "http://cran.us.r-project.org")
    library(dplyr, warn.conflicts = FALSE)
}
```

Load ToothGrowth dataset.

```{r load-data, echo = TRUE}
library(datasets)
data(ToothGrowth)
```

## Basic Data Summary

After loading the ToothGrowth dataset, provide a basic summary of the data.

```{r basic-data-summary, echo = TRUE}
str(ToothGrowth)
summary(ToothGrowth)

# tabulate supplement type and dosage level values
table(ToothGrowth$dose, ToothGrowth$supp)

# summary of tooth length data grouped by supplement type and dosage level
by(data = ToothGrowth$len, INDICES = list(ToothGrowth$supp, ToothGrowth$dose), summary)
```

## Exploratory Data Analysis

Perform some basic exploratory data analyses of the data. The analyses will
explore the following relations:

1. Tooth Length (len) as a function of Supplement Type (supp)
1. Tooth Length (len) as a function of Dosage Level (dose)
1. Tooth Length (len) as a function of Supplement Type (supp) and Dosage Level (dose)

### Tooth Length to Supplement Type

```{r tooth-length-relative-to-supplement-type, echo = TRUE}
tg <- ToothGrowth
levels(tg$supp) <- c("Orange Juice", "Ascorbic Acid")
gLenSupp <- ggplot(data = tg, aes(x = supp, y = len)) + 
    geom_boxplot(aes(fill = supp)) +
    xlab("Supplement Type") +
    ylab("Tooth Length") +
    theme(plot.title = element_text(size = 14, hjust = 0.5)) +
    ggtitle("Tooth Length as a Function of Supplement Type")
print(gLenSupp)
```

**Observation**

The above chart shows that using Orange Juice (OC) as the delivery method,
independent of dosage level, had a more favorable effect on tooth growth than
Ascorbic Acid (VC) .

### Tooth Length to Dosage Level

```{r tooth-length-relative-to-dosage-level, echo = TRUE}
gLenDose <- ggplot(data = ToothGrowth, aes(x = factor(dose), y = len)) + 
    geom_boxplot(aes(fill = factor(dose))) +
    xlab("Dosage Level (mg/day)") +
    ylab("Tooth Length") +
    guides(fill=guide_legend(title="dose")) +
    theme(plot.title = element_text(size = 14, hjust = 0.5)) +
    ggtitle("Tooth Length as a Function of Dosage Level")
print(gLenDose)
```

**Observation**

The above chart shows a positive relationship that higher dosage levels of
vitamin C, independent of delivery method, had a more favorable effect on tooth
growth than lower dosages of vitamin C. The 2.0 mg/day dosage level had the
best effect on tooth growth followed by 1.0 mg/day and then 0.5 mg/day.

### Tooth Length to Supplement Type and Dosage Level

```{r tooth-length-relative-to-supplement-type-and-dosage-level, echo = TRUE}
tg <- ToothGrowth
levels(tg$supp) <- c("Orange Juice", "Ascorbic Acid")
gLenSuppDose <- ggplot(data = tg, aes(x = supp, y = len)) + 
    geom_boxplot(aes(fill = supp)) +
    facet_wrap(~ dose) +
    xlab("Supplement Type") +
    ylab("Tooth Length") +
    guides(fill=guide_legend(title="supp")) +
    theme(plot.title = element_text(size = 14, hjust = 0.5, vjust = 0.5),
          axis.text.x = element_text(angle = 45,
                                     hjust = 0.5,
                                     vjust = 0.5,
                                     margin = margin(b = 10))) +
    ggtitle("Tooth Length as a Function of\nSupplement Type and Dosage Level")
print(gLenSuppDose)
```

**Observation**

Looking at the above chart which shows tooth growth as a function of delivery
method and dosage level, it appears that Orange Juice is more effective than
Ascorbic Acid as the delivery method when the dosage level is 0.5 to 1.0 mg/day.
The higher dosage level of 2.0 mg/day is more effective than the lower
dosages, but both delivery methods are equally as effective.

## Confidence Intervals

Confidence Interval test that the two supps are equal. Null hypothesis is that there is no difference in length which would imply that the 95% confidence interval should contain 0.


## Hypothesis Test


## Conclusion


